function returnTop(t){var n=$(window).scrollTop();actTop(n,Math.ceil(n/(t/20)))}function actTop(t,n){(t-=n)<=0&&(t=0),window.scrollTo(0,t),t<=0||window.requestAnimationFrame(function(){actTop(t,n)})}function getData(t){if(window.localStorage&&!t){localStorage.getItem("datahub.version");var n=localStorage.getItem("datahub.openapi");if(n)try{return void showContent(n=JSON.parse(n))}catch(t){}}$.get("env/api/list").then(function(t){200==t.code?(localStorage.setItem("datahub.openapi",JSON.stringify(t)),showContent(t)):ErrTip(t.i18nMsg.title,t.i18nMsg.detail,t.msg)})}function showContent(t){var n="",e="";"zh"==common_i18n_lang?(t.model.data.map(function(t,e){n+='<tr><td><a href="#index'+t.id+'">'+t.nameZh+"</a></td><td>"+t.url+"</td></tr>"}),e=template("template/zh",t.model)):(t.model.data.map(function(t,e){n+='<tr><td><a href="#index'+t.id+'">'+t.nameEn+"</a></td><td>"+t.url+"</td></tr>"}),e=template("template/en",t.model)),$(".index tbody").html(n),$("article.main").append(e),setTimeout(function(){$(".json").map(function(t,n){try{var e=JSON.parse($(n).text());$(n).text(JSON.stringify(e,null,2))}catch(t){}})},0)}$("body").on("click",".returnTop",function(){returnTop(300)}),getData(!0);